#!/bin/bash

# Environment variables
export PROJECTS_ROOT=$HOME/Projects

# Shortcuts

alias h="history"
alias c="clear"
alias q="exit"
alias cs="clear;ls"
alias p="cat"
alias pd="pwd"
alias lsa = "ls -la"
alias t="time"
alias k="kill"
alias o="open"
alias null="/dev/null"
alias bashrc="vim ~/.bashrc"

# Navigation
alias home="cd ~"
alias root="cd /"
alias dtop="cd ~/Desktop"
alias gdrive="cd ~/Google\ Drive"
alias ..="cd .."
alias ...="cd ..;cd .."
alias ....="cd ..;cd ..;cd .."
alias compilers="cd $PROJECTS_ROOT/Projects/compilers"
alias exploit="cd $PROJECTS_ROOT/Projects/exploit"
alias engineering="cd $PROJECTS_ROOT/Projects/Engineering"
alias eng="cd $PROJECTS_ROOT/Projects/Engineering"
alias compilers="cd $PROJECTS_ROOT/Projects/compilers"


# Github aliases
alias g="git status"
alias ga="git add"
alias gc="git commit -m"
alias gpl="git pull"
alias gph="git push"
alias gbc="git checkout"
alias gbcn="git checkout -b"
alias gb="git branch"
alias gl="git log"
alias gd="git diff"
alias clone="git clone"


# Global function aliases

alias ping="ping -c 10"
# Local Function aliases
alias trello="trello_open"
alias proj="project_open"
alias projc="project_open_with_code"


# Helper Functions

function is_github_repo () {
    if $(git rev-parse --is-inside-work-tree 2&1>/dev/null); then
        return 0
    else
        return 1
    fi
}


function trello_open () {
    
    projectName="$1"

    if [ "$projectName" = "compilers" ] || [ "$projectName" = "cmp" ]; then
        o https://trello.com/b/gFL5QAQm/compilers
    fi
    if [ "$projectName" = "eng" ] || [ "$projectName" = "engineering" ]; then
        o https://trello.com/b/MPTBFQzo/engineering
    fi
}


function project_open () {  
    projectName="$1"
    if [ "$projectName" = "compilers" ] || [ "$projectName" = "cmp" ]; then
        cd $PROJECTS_ROOT/"compilers";
        if is_github_repo;then
            echo "Found existing github repo..."
            git log;
        fi

    fi
    if [ "$projectName" = "eng" ] || [ "$projectName" = "engineering" ]; then
        cd $PROJECTS_ROOT/"Engineering"
        if is_github_repo;then    
            echo "here" 
            echo "Found existing github repo..."
            git log;
        fi
    fi
} 

function project_open_with_code () {  
    projectName="$1"
    if [ "$projectName" = "compilers" ] || [ "$projectName" = "cmp" ]; then
        cd $PROJECTS_ROOT/"compilers" && code .;

    fi
    if [ "$projectName" = "eng" ] || [ "$projectName" = "engineering" ]; then
        cd $PROJECTS_ROOT/"Engineering" && code .;
    fi
} 


function reload() {
    source "$HOME"/.bash_profile;
    clear;
}

