#!/bin/bash


# Environment variables
export PROJECTS_HOME=$HOME/Projects


# Github aliases
alias g="git status";
alias ga="git add";
alias gc="git commit -m";
alias gpl="git pull";
alias gph="git push";
alias gbc="git checkout";
alias gbcn="git checkout -b";
alias gb="git branch";
alias gl="git log";
alias gd="git diff";



# Local Function aliases
alias trello="trello_open";
alias proj="project_open";
alias projc="project_open_with_code";


# Helper Functions

function is_github_repo () {
    if $(git rev-parse --is-inside-work-tree 2&1>/dev/null); then
        return 0
    else
        return 1
    fi
}


function trello_open () {
    
    projectName="$1"

    if [ "$projectName" = "compilers" ] || [ "$projectName" = "cmp" ]; then
        open https://trello.com/b/gFL5QAQm/compilers
    fi
    if [ "$projectName" = "eng" ] || [ "$projectName" = "engineering" ]; then
        open https://trello.com/b/MPTBFQzo/engineering
    fi
}


function project_open () {  
    projectName="$1"
    if [ "$projectName" = "compilers" ] || [ "$projectName" = "cmp" ]; then
        cd $PROJECTS_HOME/"compilers";
        if is_github_repo;then
            echo "Found existing github repo..."
            git log;
        fi

    fi
    if [ "$projectName" = "eng" ] || [ "$projectName" = "engineering" ]; then
        cd $PROJECTS_HOME/"Engineering"
        if is_github_repo;then    
            echo "here" 
            echo "Found existing github repo..."
            git log;
        fi
    fi
} 

function project_open_with_code () {  
    projectName="$1"
    if [ "$projectName" = "compilers" ] || [ "$projectName" = "cmp" ]; then
        cd $PROJECTS_HOME/"compilers" && code .;

    fi
    if [ "$projectName" = "eng" ] || [ "$projectName" = "engineering" ]; then
        cd $PROJECTS_HOME/"Engineering" && code .;
    fi
} 


function reload() {
    source "$HOME"/.bash_profile;
    clear;
}

